[{"path":"https://jameel-institute.github.io/daedalus.api/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Imperial College Science, Technology Medicine Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pratik Gupte. Author, maintainer. Emma Russell. Author. Rich FitzJohn. Author. David Mears. Author. Abdul Latif Jameel Institute Disease Emergency Analytics. Funder. Imperial College Science, Technology Medicine. Copyright holder, funder.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gupte P, Russell E, FitzJohn R, Mears D (2025). daedalus.api: Serve 'daedalus' model via API. R package version 0.1.4, https://github.com/jameel-institute/daedalus.api.","code":"@Manual{,   title = {daedalus.api: Serve the 'daedalus' model via an API},   author = {Pratik Gupte and Emma Russell and Rich FitzJohn and David Mears},   year = {2025},   note = {R package version 0.1.4},   url = {https://github.com/jameel-institute/daedalus.api}, }"},{"path":"https://jameel-institute.github.io/daedalus.api/index.html","id":"daedalusapi","dir":"","previous_headings":"","what":"Serve the daedalus model via an API","title":"Serve the daedalus model via an API","text":"daedalus.api API package daedalus package primarily intended internal use.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Serve the daedalus model via an API","text":"can install development version daedalus.api GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"jameel-institute/daedalus.api\")"},{"path":"https://jameel-institute.github.io/daedalus.api/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick start","title":"Serve the daedalus model via an API","text":"","code":"# run the api container with queue worker # This pulls and runs image for current SHA. If none is pushed to registry you can build and push # locally using ./docker/build ./docker/run_containers  # check root endpoint `GET/` curl -s http://localhost:8001 | jq  # stop the containers ./docker/clear_containers"},{"path":"https://jameel-institute.github.io/daedalus.api/index.html","id":"development","dir":"","previous_headings":"","what":"Development","title":"Serve the daedalus model via an API","text":"add endpoint, implement method api.R @porcelain comment, run roxygen2::roxygenize() generate porcelain code porcelain.R. See porcelain docs details.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/index.html","id":"testing","dir":"","previous_headings":"","what":"Testing","title":"Serve the daedalus model via an API","text":"Redis needs running e2e tests pass. Use ./scripts/redis start, tear ./scripts/redis kill.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/index.html","id":"model-versions","dir":"","previous_headings":"","what":"Model versions","title":"Serve the daedalus model via an API","text":"API backwards compatible support running older versions model. endpoints support providing modelVersion part body, e.g. run get metadata particular version model. Metadata stored inst/json folder, files named metadata_[VERSION].json [VERSION] first model version metadata applied. Requesting metadata model version return metadata applies version, (may first introduced earlier version). metadata response includes modelVersion property - value modelVersion requested query string, provided. modelVersion provided query string, returned model version recent metadata’s [VERSION].","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/index.html","id":"related-projects","dir":"","previous_headings":"","what":"Related projects","title":"Serve the daedalus model via an API","text":"See daedalus package implements DAEDALUS integrated model economic, social, health costs pandemic.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":null,"dir":"Reference","previous_headings":"","what":"Class for managing running jobs on the redis queue — Queue","title":"Class for managing running jobs on the redis queue — Queue","text":"Class managing running jobs redis queue Class managing running jobs redis queue","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Class for managing running jobs on the redis queue — Queue","text":"controller RRQ controller","code":""},{"path":[]},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Class for managing running jobs on the redis queue — Queue","text":"Queue$new() Queue$queue_model_run() Queue$get_run_status() Queue$get_run_results()","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Class for managing running jobs on the redis queue — Queue","text":"Initialise redis connection rrq.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Class for managing running jobs on the redis queue — Queue","text":"","code":"Queue$new(queue_id = NULL, separate_process = TRUE)"},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"method-queue-model-run-","dir":"Reference","previous_headings":"","what":"Method queue_model_run()","title":"Class for managing running jobs on the redis queue — Queue","text":"Submit model run job queue, return run id","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Class for managing running jobs on the redis queue — Queue","text":"","code":"Queue$queue_model_run(parameters, model_version = NULL)"},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Class for managing running jobs on the redis queue — Queue","text":"parameters parameter values model run","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"method-get-run-status-","dir":"Reference","previous_headings":"","what":"Method get_run_status()","title":"Class for managing running jobs on the redis queue — Queue","text":"Get status information model run","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Class for managing running jobs on the redis queue — Queue","text":"","code":"Queue$get_run_status(run_id)"},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Class for managing running jobs on the redis queue — Queue","text":"run_id run id model run","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"method-get-run-results-","dir":"Reference","previous_headings":"","what":"Method get_run_results()","title":"Class for managing running jobs on the redis queue — Queue","text":"Get results data completed model run. Throws error task successful.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Class for managing running jobs on the redis queue — Queue","text":"","code":"Queue$get_run_results(run_id)"},{"path":"https://jameel-institute.github.io/daedalus.api/reference/Queue.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Class for managing running jobs on the redis queue — Queue","text":"run_id run id model run","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/api.html","id":null,"dir":"Reference","previous_headings":"","what":"Create daedalus.api — api","title":"Create daedalus.api — api","text":"Create daedalus.api server, porcelain object","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/api.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create daedalus.api — api","text":"","code":"api(validate = NULL, log_level = \"info\")"},{"path":"https://jameel-institute.github.io/daedalus.api/reference/api.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create daedalus.api — api","text":"validate Logical, indicating validation done responses.  FALSE production environments.  See porcelain::porcelain details log_level Logging level use. Sensible options \"\", \"info\" \"\".","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/api.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create daedalus.api — api","text":"porcelain::porcelain object. Notably start server","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/daedalus.api-package.html","id":null,"dir":"Reference","previous_headings":"","what":"daedalus.api: Serve the 'daedalus' model via an API — daedalus.api-package","title":"daedalus.api: Serve the 'daedalus' model via an API — daedalus.api-package","text":"API server 'daedalus' model, using 'porcelain' 'plumber'.","code":""},{"path":[]},{"path":"https://jameel-institute.github.io/daedalus.api/reference/daedalus.api-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"daedalus.api: Serve the 'daedalus' model via an API — daedalus.api-package","text":"Maintainer: Pratik Gupte p.gupte24@imperial.ac.uk (ORCID) Authors: Emma Russell Rich FitzJohn (ORCID) David Mears contributors: Abdul Latif Jameel Institute Disease Emergency Analytics [funder] Imperial College Science, Technology Medicine [copyright holder, funder]","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_annual_gdp.html","id":null,"dir":"Reference","previous_headings":"","what":"Get annual GDP from DAEDALUS country data — get_annual_gdp","title":"Get annual GDP from DAEDALUS country data — get_annual_gdp","text":"Convert daily GVA values annual GDP values.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_annual_gdp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get annual GDP from DAEDALUS country data — get_annual_gdp","text":"","code":"get_annual_gdp(country)"},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_annual_gdp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get annual GDP from DAEDALUS country data — get_annual_gdp","text":"country string giving country name among daedalus.data::country_names ISO2 code among daedalus.data::country_codes_iso2c ISO3 code among daedalus.data::country_codes_iso3c.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_annual_gdp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get annual GDP from DAEDALUS country data — get_annual_gdp","text":"single number value annual GDP country terms million dollars. Values 2018 terms.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_average_vsl.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Average Value of Statistical Life (VSL) for a Country — get_average_vsl","title":"Get Average Value of Statistical Life (VSL) for a Country — get_average_vsl","text":"function calculates average Value Statistical Life (VSL) specified country. computes weighted mean VSL using demography data weights.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_average_vsl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Average Value of Statistical Life (VSL) for a Country — get_average_vsl","text":"","code":"get_average_vsl(country)"},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_average_vsl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Average Value of Statistical Life (VSL) for a Country — get_average_vsl","text":"country string giving country name among daedalus.data::country_names ISO2 code among daedalus.data::country_codes_iso2c ISO3 code among daedalus.data::country_codes_iso3c.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_average_vsl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Average Value of Statistical Life (VSL) for a Country — get_average_vsl","text":"numeric value representing average VSL specified country.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/reference/get_average_vsl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Average Value of Statistical Life (VSL) for a Country — get_average_vsl","text":"","code":"if (FALSE) { # \\dontrun{ avg_vsl <- get_average_vsl(\"USA\") print(avg_vsl) } # }"},{"path":"https://jameel-institute.github.io/daedalus.api/news/index.html","id":"daedalusapi-014","dir":"Changelog","previous_headings":"","what":"daedalus.api 0.1.4","title":"daedalus.api 0.1.4","text":"Update metadata policy responses parameter denote parameter’s options considered ordered.","code":""},{"path":"https://jameel-institute.github.io/daedalus.api/news/index.html","id":"daedalusapi-013","dir":"Changelog","previous_headings":"","what":"daedalus.api 0.1.3","title":"daedalus.api 0.1.3","text":"changelog package begins . Function model_run() uses new version daedalus() hospital capacity parameter moved daedalus_country class; Internal costs function get_nested_costs() accesses <daedalus_output> member life_value health costs. Importing new package daedalus.data data. Updates formatting (using air) infrastructure fix lints make docs easier find online.","code":""}]
